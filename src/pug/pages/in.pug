extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'nav-fixed'
    - var pageTitle = 'COVID19 INDIA Dashboard'
    - var sidenavStyle = 'sidenav-light'
    - var topnavStyle = 'navbar-light bg-white'
    - var pageHeaderStyle = 'page-header-dark'
    - var pageHeaderBackground = 'bg-gradient-primary-to-secondary'
    - var footerStyle = 'footer-dark bg-dark'
    - var topNavRegion = 'USA'
    
append css
    style(type='text/css').

        @-webkit-keyframes rotating {
            from {
                -webkit-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            to {
                -webkit-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        @keyframes rotating {
            from {
                -ms-transform: rotate(0deg);
                -moz-transform: rotate(0deg);
                -webkit-transform: rotate(0deg);
                -o-transform: rotate(0deg);
                transform: rotate(0deg);
            }
            to {
                -ms-transform: rotate(360deg);
                -moz-transform: rotate(360deg);
                -webkit-transform: rotate(360deg);
                -o-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
        .rotating {
            -webkit-animation: rotating 3s linear infinite;
            -moz-animation: rotating 3s linear infinite;
            -ms-animation: rotating 3s linear infinite;
            -o-animation: rotating 3s linear infinite;
            animation: rotating 3s linear infinite;
        }
    include in-map-js.pug
    
block content
    .container-fluid.mt-4
        .card.mb-4
            .card-header.bg-dark
                h3.text-white Map
            .card-body.p-3
                #covidCountryMap(style="height:50vh")
                .row.justify-content-md-center.pt-2
                    .col-md-3.col-sm-6.mb-3
                        .card.h-100.bg-secondary.border-0
                            .card-body
                                h3.text-white-75.mb-2 Confirmed
                                    i.text-white-50.float-right.fas.fa-lg.fa-viruses
                                #number-confirmed.display-4.text-white.mb-2
                                .d-flex.justify-content-between
                                    #today-confirmed.text-white-75 Loading stat...
                                    #per-confirmed.text-white-75.small 
                    .col-md-3.col-sm-6.mb-3
                        .card.h-100.bg-dark.border-0
                            .card-body
                                h3.text-white-75.mb-2 Active
                                    i.text-white-50.float-right.fas.fa-lg.fa-clinic-medical
                                #number-active.display-4.text-white.mb-2
                                #per-active.text-white-75 Loading stat...
                    .col-md-3.col-sm-6.mb-3
                        .card.h-100.bg-success.border-0
                            .card-body
                                h3.text-white-75.mb-2 Recovered
                                    i.text-white-50.float-right.fas.fa-lg.fa-house-user
                                #number-recovered.display-4.text-white.mb-2
                                .d-flex.justify-content-between
                                    #today-recovered.text-white-75 Loading stat...
                                    #per-recovered.text-white-75.small 
                    .col-md-3.col-sm-6.mb-3
                        .card.h-100.bg-danger.border-0
                            .card-body
                                h3.text-white-75.mb-2 Deaths
                                    i.text-white-50.float-right.fas.fa-lg.fa-bed
                                    #number-deaths.display-4.text-white.mb-2 
                                .d-flex.justify-content-between
                                    #today-deaths.text-white-75 Loading stat...
                                    #per-deaths.text-white-75.small 
                    .col-sm-12.p-0
                        #last-updated.text-center
                        a.small.float-right.mr-2(href="https://api.covid19india.org" target="_blank")
                            | Data source 
                            i.icon-new-tab.ml-1
        .row
            .col-sm-12
                .card.pb-2.mb-4
                    .card-header.bg-dark.d-block
                        h3.text-white Daily Graph
                        p.text-white.text-muted Can be filtered by Time, Case and Scale(Line)
                    .card-body(style="background-color: #191a1a !important;")
                        .row.d-flex.justify-content-md-around
                            .col-sm-12.col-md-9.p-0
                                canvas#myChart.p-1.tuatara(style="width:100%; height:30rem")
                            .col-sm-12.col-md-2.pl-md-4
                                .row.justify-content-between
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 By Time
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceBeginning.custom-control-input(type='radio', name='timeframe', value="beginning")
                                            label.custom-control-label(for='sinceBeginning') Beginning
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceMonth.custom-control-input(type='radio', name='timeframe' ,value="month", checked)
                                            label.custom-control-label(for='sinceMonth') 1 Month
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceWeeks.custom-control-input(type='radio', name='timeframe', value="weeks")
                                            label.custom-control-label(for='sinceWeeks') 2 Weeks
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 By Case
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#confirmedRadio.custom-control-input(type='radio', name='caseTypeRadio', value="confirmed" checked)
                                            label.custom-control-label(for='confirmedRadio') Confirmed 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#recoveredRadio.custom-control-input(type='radio', name='caseTypeRadio', value="recovered")
                                            label.custom-control-label(for='recoveredRadio') Recovered
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#deathsRadio.custom-control-input(type='radio', name='caseTypeRadio', value="deaths")
                                            label.custom-control-label(for='deathsRadio') Deaths
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 By Chart
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#barRadio.custom-control-input(type='radio', name='chartTypeRadio' value="bar", checked)
                                            label.custom-control-label(for='barRadio') Bar 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#lineRadio.custom-control-input(type='radio', name='chartTypeRadio', value="line")
                                            label.custom-control-label(for='lineRadio') Line
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 By Chart Scale
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#linearRadio.custom-control-input(type='radio', name='scaleTypeRadio', value="linear" checked, disabled)
                                            label.custom-control-label(for='linearRadio') Linear 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#logarithmicRadio.custom-control-input(type='radio', name='scaleTypeRadio',value="logarithmic", disabled )
                                            label.custom-control-label(for='logarithmicRadio') Logarithmic
                                .row.d-flex.justify-content-center.pt-4 
                                | Total
                                small.pr-1.text-muted#total-date.font-weight-light
                                .row.d-flex.justify-content-around.pb-1.pt-1.text-center
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Confirmed
                                        p#total-confirmed.card-text.text-dark ...
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Recovered
                                        p#total-recovered.card-text.text-dark ...
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Deaths
                                        p#total-deaths.card-text.text-dark ... 
                    a.small.w-100.text-right.pt-2.mr-2(href="https://api.covid19india.org" target="_blank")
                        | Data source 
                        i.icon-new-tab.ml-1

            .col-sm-12
                .card.pb-2.mb-4
                    .card-header.bg-dark
                        h3.text-white Datatable
                    .card-body.pb-2
                        p#icmrReport
                        include includes/datatables/datatable-country.pug 
                    a.small.w-100.text-right.pt-2.mr-2(href="https://api.covid19india.org" target="_blank")
                        | Data source 
                        i.icon-new-tab.ml-1
            .col-sm-12
                .card.mb-4
                    .card-header.bg-dark
                        h5.text-white In The Press
                    .card-body
                        .row.d-flex.justify-content-between
                            .col-sm-12.col-md-8.pr-md-5
                                .card.mt-4.mb-2.right-panel-reports-container.border-top-0.border-right-0.border-bottom-0.border-left-0.px-0
                                    h4.card-title.p-3.text-dark.bg-light News
                                    .text-gray-600.small#news-results-number.pt-1.pl-3
                                    #card-deck.my-2.pr-md-2
                                    a.small.w-100.text-right.pt-2.mr-2(href="https://smartable.ai/" target="_blank") 
                                        | Data Source
                                        i.icon-new-tab.ml-1
                            .col-sm-12.col-md-4.px-0
                                .card.mt-4.mb-2.right-panel-reports-container.border-top-0.border-right-0.border-bottom-0.border-left-0.px-0
                                    h4.card-title.p-3.text-dark.bg-light Notifications & advisories
                                    .d-flex.align-items-start.pb-1.small#notification-last-updated
                                    .list-group.list-group-flush#right-panel-reports.mr-md-2
                                    a.small.w-100.text-right.pt-2.mr-2(href="https://api.covid19india.org" target="_blank") 
                                        | Data Source 
                                        i.icon-new-tab.ml-1 
                //- Extra large modal
        .modal.fade#stateModal(tabindex='-1', role='dialog', aria-labelledby='stateModal', aria-hidden='true')
            .modal-dialog.modal-xl(role='document')
                .modal-content
                    .modal-header.bg-dark
                        h3.display-5.modal-title.text-white-75#stateName
                        button.close(type='button', data-dismiss='modal', aria-label='Close')
                            span.text-white-75.icon-cross(aria-hidden='true')
                    .modal-body
                        .datatable.table-responsive.pb-3
                            table#dataTableState.table.table-bordered.table-hover(width='100%', cellspacing='0')

append scripts
    //- Load Chart.js via CDN
    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js', crossorigin='anonymous')

    //- script(src='js/in.min.js')
    script(src='js/utilities.js')
    script(src='js/in.js')
    script(src='js/scripts.js')
