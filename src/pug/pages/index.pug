extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'nav-fixed'
    - var pageTitle = 'COVID-19 Global Dashboard'
    - var sidenavStyle = 'sidenav-light'
    - var pageHeaderStyle = 'page-header-dark'
    - var pageHeaderBackground = 'bg-gradient-primary-to-secondary'
    - var footerStyle = 'footer-dark bg-dark'
    - var topNavRegionTitle = 'COVID-19'
    - var topNavRegionSubTitle = 'Global Dashboard'
    - var metaTitle = 'The COVID-19 Global Dashboard'
    - var metaDescription = 'As the virus that causes COVID-19 spreads worldwide, this dashboard seeks to offer a one-stop snapshot of confirmed cases globally, with country specific data, news and advisories.'
    
append css
    include world-map-js.pug
    link(href='css/styles.min.css', rel='stylesheet')
    link(href='https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css', rel='stylesheet', crossorigin='anonymous')
block content
    .container-fluid.mt-4
        .card.mb-4
            .card-header.bg-dark.d-block
                h3.text-white.mb-0  Cases around the World
                p.text-white.text-muted.mb-0.pt-1 Tap/hover on the marker for more information
            .card-body.p-3
                #covidWorldMap(style="height:60vh")
                #last-updated.text-center.pt-3.pb-1
                .row.justify-content-center.p-0.pt-2
                    .card-stats.col-md-3
                        .card.h-100.bg-dark.border-0
                            .card-body
                                h3.text-white-75.mb-3.d-inline-block Confirmed
                                img.text-white-50.float-right(src="../../assets/img/icons/icon_confirmed.svg", onerror="this.onerror=null;")
                                #number-confirmed.text-white.mb-0
                                .d-flex.justify-content-start.align-items-center
                                    #today-confirmed.text-white-75 Loading stat...
                                    span &nbsp;
                                    #per-confirmed.text-white-75.small
                    .card-stats.col-md-3
                        .card.h-100.bg-secondary.border-0
                            .card-body
                                h3.text-white-75.mb-3.d-inline-block Active
                                img.text-white-50.float-right(src="../../assets/img/icons/icon_active.svg", onerror="this.onerror=null;")
                                #number-active.text-white.mb-0
                                #per-active.text-white-75 Loading stat...
                    .card-stats.col-md-3
                        .card.h-100.bg-success.border-0
                            .card-body
                                h3.text-white-75.mb-3.d-inline-block Recovered
                                img.text-white-50.float-right(src="../../assets/img/icons/icon_recovered.svg", onerror="this.onerror=null;")
                                #number-recovered.text-white.mb-0
                                .d-flex.justify-content-start.align-items-center
                                    #today-recovered.text-white-75 Loading stat...
                                    span &nbsp;
                                    #per-recovered.text-white-75 
                    .card-stats.col-md-3
                        .card.h-100.bg-danger.border-0
                            .card-body
                                h3.text-white-75.mb-3.d-inline-block Deaths
                                img.text-white-50.float-right(src="../../assets/img/icons/icon_death.svg", onerror="this.onerror=null;")
                                #number-deaths.text-white.mb-0 
                                .d-flex.justify-content-start.align-items-center
                                    #today-deaths.text-white-75 Loading stat...
                                    span &nbsp;
                                    #per-deaths.text-white-75.small
                    .col-sm-12.p-0
                        p.small.pt-2.pr-2.mb-0.text-right
                            em Data derived from&nbsp;
                                a.w-100.pt-2(href="https://about-corona.net/" target="_blank") about-corona
                                    i.icon-new-tab.ml-1
        .row
            .col-sm-12
                .card.pb-2.mb-4(style="background-color: #191a1a !important;")
                    .card-header.bg-dark.d-block
                        h3.text-white.mb-0  Timeline of Top 15 affected Countries
                        p.text-white.text-muted.mb-0.pt-1 Click the play button (bottom left) to run the Timeline 
                    .card-body#flourish-bar-chart-race.mx-auto
                        .flourish-embed.flourish-bar-chart-race( data-src='visualisation/2293729', data-url='https://flo.uri.sh/visualisation/2293729/embed')
            .col-sm-12
                .card.pb-2.mb-4
                    .card-header.bg-dark.d-block
                        h3.text-white.mb-0  Daily Trend of Cases
                        p.text-white.text-muted.mb-0.pt-1 Filter by Region, Type & Scale
                    .card-body(style="background-color: #191a1a !important;")
                        .row
                            .col-sm-12.col-md-9.p-0
                                canvas#myChart.tuatara.p-1(width='100%', height='30rem')
                                .row.text-center
                                    .col.mt-2
                                        p.font-italic.font-weight-300.mb-1.text-white.pt-1
                                            | Select Country
                                        .select
                                            select#ddChartCountries
                                                option(value="global" selected) Global
                            .col-sm-12.col-md-3.pl-md-4
                                .row.d-flex.justify-content-center.pt-2.text-white
                                    #total-date
                                .row.d-flex.justify-content-around.pb-4.pt-1.text-center.text-white.border-bottom
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Confirmed
                                        p#total-confirmed.card-text.text-dark loading...
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Recovered
                                        p#total-recovered.card-text.text-dark loading...
                                    .col.p-1
                                        p.mb-1
                                            small.font-weight-light.mb-1 Deaths
                                        p#total-deaths.card-text.text-dark loading... 
                                .d-flex.justify-content-between
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 Period
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceBeginning.custom-control-input(type='radio', name='timeframe', value="beginning")
                                            label.custom-control-label.font-weight-300#sinceBeginningDate(for='sinceBeginning') From the Beginning
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceMonth.custom-control-input(type='radio', name='timeframe' ,value="month", checked)
                                            label.custom-control-label.font-weight-300(for='sinceMonth') Recent Month
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#sinceWeeks.custom-control-input(type='radio', name='timeframe', value="weeks")
                                            label.custom-control-label.font-weight-300(for='sinceWeeks') Recent 2 Weeks
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 Case Type
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#confirmedRadio.custom-control-input(type='radio', name='caseTypeRadio', value="confirmed" checked)
                                            label.custom-control-label.font-weight-300(for='confirmedRadio') Confirmed 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#recoveredRadio.custom-control-input(type='radio', name='caseTypeRadio', value="recovered")
                                            label.custom-control-label.font-weight-300(for='recoveredRadio') Recovered
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#deathsRadio.custom-control-input(type='radio', name='caseTypeRadio', value="deaths")
                                            label.custom-control-label.font-weight-300(for='deathsRadio') Deaths
                                .d-flex.justify-content-between
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 Chart Type
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#barRadio.custom-control-input(type='radio', name='chartTypeRadio' value="bar", checked)
                                            label.custom-control-label.font-weight-300(for='barRadio') Bar 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#lineRadio.custom-control-input(type='radio', name='chartTypeRadio', value="line")
                                            label.custom-control-label.font-weight-300(for='lineRadio') Line
                                    .col.mt-2
                                        p.font-italic.font-weight-300.text-left.mt-4.mb-2 Scale (Line)
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#linearRadio.custom-control-input(type='radio', name='scaleTypeRadio', value="linear" checked, disabled)
                                            label.custom-control-label.font-weight-300(for='linearRadio') Linear 
                                        .custom-control.custom-radio.custom-control-solid.text-white
                                            input#logarithmicRadio.custom-control-input(type='radio', name='scaleTypeRadio',value="logarithmic", disabled )
                                            label.custom-control-label.font-weight-300(for='logarithmicRadio') Logarithmic

                    p.small.pt-2.pr-2.mb-0.text-right
                        em Data derived from&nbsp;
                            a.w-100.pt-2(href="https://about-corona.net/" target="_blank") about-corona
                                i.icon-new-tab.ml-1
            .col-sm-12
                .card.pb-2.mb-4
                    .card-header.bg-dark
                        h3.text-white.mb-0  Cases by Country
                    .card-body
                        include includes/datatables/datatable-dashboard.pug
                    p.small.pt-2.pr-2.mb-0.text-right
                        em Data derived from&nbsp;
                            a.w-100.pt-2(href="https://about-corona.net/" target="_blank") about-corona
                                i.icon-new-tab.ml-1
            .col-sm-12
                .card.mb-4
                    .card-header.bg-dark.d-block
                        h5.text-white.mb-0  In The Press
                    .card-body
                        .row.d-flex.justify-content-between
                            .col-sm-12.col-md-8.pr-md-5
                                .card.mt-4.mb-2.right-panel-reports-container.border-top-0.border-right-0.border-bottom-0.border-left-0.px-0
                                    h4.card-title.p-3.text-dark.bg-light Top COVID-19 related News
                                    .card-deck-container
                                        p.font-italic.font-weight-300.text-left.mb-1
                                            small Select a region
                                        .select.w-50
                                            select#selectNewsRegion
                                                option(value="global" selected) Global
                                        .text-gray-600.small#news-results-number.pt-1.pl-3
                                        #card-deck.my-2.pr-md-2
                                    p.small.pt-2.pr-2.mb-0.text-right
                                        em Data derived from&nbsp;
                                            a.w-100.pt-2(href="https://smartable.ai/" target="_blank") Smartable AI
                                                i.icon-new-tab.ml-1
                            .col-sm-12.col-md-4
                                .card.mt-4.mb-2.right-panel-reports-container.border-top-0.border-right-0.border-bottom-0.border-left-0.px-0
                                    h4.card-title.p-3.text-dark.bg-light Travel Health Notices
                                    .card-deck-container
                                        .d-flex.align-items-center.justify-content-center.pb-1
                                            span.bg-red.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                            span.small.text-muted Alert
                                            span.bg-yellow.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                            span.small.text-muted Warning
                                            span.bg-dark.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                            span.small.text-muted Watch
                                        .list-group.list-group-flush.small#right-panel-reports.mr-md-2
                                    p.small.pt-2.pr-2.mb-0.text-right
                                        em Data derived from&nbsp;
                                            a.w-100.pt-2(href="https://covid19-docs.chrismichael.now.sh/" target="_blank") covid19-api
                                                i.icon-new-tab.ml-1
        

append scripts
    script(src='https://public.flourish.studio/resources/embed.js')
    script(src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js', crossorigin='anonymous')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js', crossorigin='anonymous')
    script(src='js/dashboard.min.js')

    //- script(src='js/utilities.js')
    //- script(src='js/dashboard.js')
    //- script(src='js/scripts.js')