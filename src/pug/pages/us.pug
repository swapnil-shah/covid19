extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'nav-fixed'
    - var pageTitle = 'COVID19 USA Dashboard'
    - var sidenavStyle = 'sidenav-light'
    - var topnavStyle = 'navbar-light bg-white'
    - var pageHeaderStyle = 'page-header-dark'
    - var pageHeaderBackground = 'bg-gradient-primary-to-secondary'
    - var footerStyle = 'footer-dark bg-dark'
    - var topNavRegion = 'USA'
    
append css
    link(href='https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css', rel='stylesheet', crossorigin='anonymous')
    include includes/us-map-js.pug

block content
    .container-fluid.mt-4
        .card.mb-4
            .card-header.bg-dark
                h3.text-white Map
            .card-body.p-3
                #covidCountryMap(style="height:50vh")
        .row
            .col-sm-12
                .card.pb-2.mb-4
                    .card-header.bg-dark
                        h3.text-white Datatable
                    .card-body.pb-2
                        include includes/datatables/datatable-country.pug 
                        a.float-right(href="https://covidtracking.com/" target="_blank" style="text-decoration:underline")
                                    | Data source 
                                    i.fas.fa-external-link-alt.mr-1
            .col-lg-12
                .card.mb-4
                    .card-header.bg-dark
                        h3.text-white Distribution in States
                    .card-body
                        .row
                            .col-lg-4.px-0
                                .chart-pie
                                    canvas#pie-chart-total-cases(width='100%', height='50px')
                            .col-lg-4.px-0
                                .chart-pie
                                    canvas#pie-chart-hospitliazed(width='100%', height='50')
                            .col-lg-4
                                p.font-italic.font-weight-300.text-left.mb-1
                                    small Select a region
                                .select.w-100
                                    select#selectRegion
                                        option(value="usa" selected) USA
                                .list-group.list-group-flush.small#pie-numbers
                    .card-footer.small.text-muted.justify-content-between.d-flex
                        #last-updated-pie
                        a(href="https://covidtracking.com/" target="_blank" style="text-decoration:underline")
                                    | Data source 
                                    i.fas.fa-external-link-alt.mr-1
            .col-sm-12
                .card
                    .card-header.bg-dark
                        h5.text-white Trending Coronavirus News in USA
                    .card-body
                        h2.card-title
                        p.font-italic.font-weight-300.text-left.mb-1
                            small Select a region
                        .select
                            select#selectNewsRegion
                                option(value="US" selected) USA
                        .row.mt-3.d-flex.justify-content-between
                            .col-sm-12.col-md-7
                                .row
                                    .text-gray-600.small#news-results-number.pl-3
                                    #card-deck.my-2
                                    a.small.w-100.text-right(href="https://smartable.ai/" target="_blank") 
                                        | Data Source
                                        i.fas.fa-external-link-alt.mr-1
                            .col-sm-12.col-md-4.px-0
                                .card.mt-4.mb-2.travel-notices-container.border-top-0.border-right-0.border-bottom-0.border-left-0.px-0
                                    h4.card-title.p-3.text-dark.bg-light Travel Health Notices
                                    .d-flex.align-items-center.justify-content-center.pb-1
                                        span.bg-red.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                        span.small.text-muted Alert
                                        span.bg-yellow.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                        span.small.text-muted Warning
                                        span.bg-dark.ml-4.mr-2(style="width: 10px;height: 7px;display: inline-block;vertical-align: middle;") 
                                        span.small.text-muted Watch
                                    .list-group.list-group-flush.small#travel-notices
                                    a.small.w-100.text-right(href="https://covid19-docs.chrismichael.now.sh/" target="_blank") 
                                        | Data Source
                                        i.fas.fa-external-link-alt.mr-1      

append scripts
    //- Load Chart.js via CDN
    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js', crossorigin='anonymous')
    script(src='js/countries/us.js')
