extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'nav-fixed'
    - var pageTitle = 'COVID19'
    - var pageIcon = 'activity'
    - var pageSummary = 'Example dashboard overview and content summary'
    - var sidenavStyle = 'sidenav-light'
    - var topnavStyle = 'navbar-light bg-white'
    - var pageHeaderStyle = 'page-header-dark'
    - var pageHeaderBackground = 'bg-gradient-primary-to-secondary'
    - var footerStyle = 'footer-light'

    include includes/us-map-js.pug
    
append css
    link(href='https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css', rel='stylesheet', crossorigin='anonymous')
block content
    include includes/page-header
    .container-fluid.mt-n10
        .card.mb-4
            .card-header USA Map
            .card-body  
                #covidCountryMap(style="height:520px")
        .row
            .col-lg-12
                .card.mb-4
                    .card-header Distribution in States
                    .card-body
                        .row
                            .col-lg-4
                                .chart-pie
                                    canvas#pie-chart-total-cases(width='100%', height='50')
                            .col-lg-4
                                .chart-pie
                                    canvas#pie-chart-hospitliazed(width='100%', height='50')
                            .col-lg-4
                                p.font-italic.font-weight-300.text-left.mb-1
                                    small Select a region
                                .select(style="width:20rem")
                                    select#selectRegion
                                        option(value="usa" selected) USA
                                #pie-numbers
                                    .list-group.list-group-flush.small
                                        .list-group-item.list-group-item.list-group-item-action
                                            p.text-dark.card-text
                                                span.font-weight-light.mr-1 Cases
                                                | 455,154,
                                        
                    .card-footer.small.text-muted.justify-content-between.d-flex
                        #last-updated-pie
                        a(href="https://covidtracking.com/" target="_blank" style="text-decoration:underline")
                                    | Data source 
                                    i.fas.fa-external-link-alt.mr-1  
                //- Example card deck with image cap cards
            .col-lg-4
                .card-deck
                    .card.mb-4
                        .card-body
                            h5.card-title.text-primary Interactive Charts
                            p.card-text
                                | The interactive charts in this theme are powered by Chart.js, a simple, yet flexible, JavaScript charting library for designers &amp; developers.
                        a.card-footer.d-flex.align-items-center.justify-content-between(href='/charts.html')
                            | View charts
                            i(data-feather='arrow-right')
            .col-sm-12
                .card.pb-2
                    .card-body  
                        include includes/datatables/datatable-country.pug 
                        a.float-right(href="https://covidtracking.com/" target="_blank" style="text-decoration:underline")
                                    | Data source 
                                    i.fas.fa-external-link-alt.mr-1

append scripts
    //- Load Chart.js via CDN
    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js', crossorigin='anonymous')
    //- Load custom Chart.js styling and demo data
    //- Load dataTables via CDN
    script(src='https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js', crossorigin='anonymous')
    script(src='https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js', crossorigin='anonymous')
    //- Load dataTables demo data
    script(src='js/countries/us.js')
